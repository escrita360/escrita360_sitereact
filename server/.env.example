# ========================================
# CONFIGURAÇÕES DO SERVIDOR
# ========================================
NODE_ENV=development
PORT=5000
SECRET_KEY=your_secret_key_here

# ========================================
# CONFIGURAÇÕES PAGBANK - RECORRÊNCIA
# ========================================
# Documentação: https://dev.pagbank.uol.com.br/

# Ambiente (sandbox ou production)
PAGBANK_ENV=sandbox

# Email da conta PagBank (obrigatório para API de Recorrência)
PAGBANK_EMAIL=your_email@example.com

# Token da conta PagBank (obrigatório)
PAGBANK_TOKEN=your_pagbank_token_here

# App ID Connect (obtido ao criar aplicação)
PAGBANK_APP_ID=your_pagbank_app_id_here

# Client ID e Client Secret do PagBank Connect (obrigatórios para Connect)
# Como obter: POST /oauth2/application
PAGBANK_CLIENT_ID=your_pagbank_client_id_here
PAGBANK_CLIENT_SECRET=your_pagbank_client_secret_here

# URL de redirecionamento após autorização (Connect)
# Deve ser a mesma configurada ao criar a aplicação
PAGBANK_REDIRECT_URI=http://localhost:5000/api/connect/callback

# ========================================
# CERTIFICADO DIGITAL mTLS (Opcional)
# ========================================
# Certificado digital para comunicação segura mTLS
# Obrigatório para: API de Transferências
# Opcional mas recomendado para: Outras APIs
# Validade: 2 anos

# Caminhos para os arquivos do certificado
PAGBANK_CERT_KEY_PATH=./certificates/pagbank_sandbox.key
PAGBANK_CERT_PEM_PATH=./certificates/pagbank_sandbox.pem

# ========================================
# URLS DO FRONTEND
# ========================================
FRONTEND_URL=http://localhost:5173

# ========================================
# WEBHOOK URLS
# ========================================
# URL que o PagBank vai chamar para notificações
# Em desenvolvimento local, use ngrok ou similar para expor localhost
# Exemplo: https://seu-app.ngrok.io/api/webhook/pagbank
PAGBANK_WEBHOOK_URL=http://localhost:5000/api/webhook/pagbank

# ========================================
# DATABASE
# ========================================
DATABASE_URL=sqlite:///app.db

# ========================================
# JWT
# ========================================
JWT_SECRET_KEY=your_jwt_secret_here

# ========================================
# FIREBASE - CONFIGURAÇÃO MULTI-PROJETO
# ========================================
# O sistema cria contas em projetos diferentes baseado no tipo de plano:
# - Plano ALUNO -> Projeto escrita360aluno
# - Plano PROFESSOR -> Projeto indivprof

# --- PROJETO ALUNO (escrita360aluno) ---
FIREBASE_ALUNO_PROJECT_ID=escrita360aluno
# Opção 1: Caminho para arquivo de service account
FIREBASE_ALUNO_SERVICE_ACCOUNT_PATH=./firebase-aluno-service-account.json
# Opção 2: JSON do service account codificado em Base64 (para deploy em cloud)
# FIREBASE_ALUNO_SERVICE_ACCOUNT_JSON=eyJhbGciOi...base64_encoded_json

# --- PROJETO PROFESSOR (indivprof) ---
FIREBASE_PROFESSOR_PROJECT_ID=indivprof
# Opção 1: Caminho para arquivo de service account
FIREBASE_PROFESSOR_SERVICE_ACCOUNT_PATH=./firebase-professor-service-account.json
# Opção 2: JSON do service account codificado em Base64 (para deploy em cloud)
# FIREBASE_PROFESSOR_SERVICE_ACCOUNT_JSON=eyJhbGciOi...base64_encoded_json

# ========================================
# CONFIGURAÇÕES OPCIONAIS
# ========================================
# Limite de requisições por minuto
RATE_LIMIT=100

# Timeout de requisições (em ms)
REQUEST_TIMEOUT=30000